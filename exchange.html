<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wish Fic Fest — Intro Card</title>
  <meta name="theme-color" content="#f3e7d4" />
  <style>
    :root{
      /* Theme: parchment */
      --bg:#f7f3ea; --ink:#232321; --muted:#626262; --accent:#6e8b72; --edge:#e7dcc8; --chip:#efe7d7; --chip-ink:#31302d;
      --card:#fff; --ring:rgba(0,0,0,.08); --shadow:0 20px 60px rgba(0,0,0,.08);
      --r:18px;
    }
    [data-theme="pastel"]{ --bg:#f6f8ff; --ink:#1f2230; --muted:#646a88; --accent:#7d8cff; --edge:#e6ebff; --chip:#edf0ff; --chip-ink:#2b2f46; --card:#ffffff; --ring:rgba(0,0,0,.07); }
    [data-theme="dark"]{ --bg:#0f1115; --ink:#f5f6f8; --muted:#a4a8b3; --accent:#9dd6b8; --edge:#20222a; --chip:#1a1d24; --chip-ink:#eaecef; --card:#14171e; --ring:rgba(255,255,255,.08); }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; background:radial-gradient(60vw 40vh at 50% -10%, var(--edge) 0, transparent 60%) var(--bg); color:var(--ink); font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,sans-serif; display:grid; place-items:center; padding:28px}
    a{color:inherit}

    .wrap{width:min(920px,100%);}

    .toolbar{display:flex; gap:12px; justify-content:space-between; align-items:center; margin:0 0 14px}
    .left{display:flex; gap:10px; align-items:center}
    .badge{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border:1px solid var(--edge); border-radius:999px; background:var(--card); box-shadow:var(--shadow)}
    .badge svg{width:16px;height:16px;opacity:.8}

    .controls{display:flex; gap:10px; align-items:center}
    .select, .btn{appearance:none; border:1px solid var(--edge); background:var(--card); color:var(--ink); padding:8px 12px; border-radius:12px; box-shadow:var(--shadow); cursor:pointer}
    .btn.primary{background:var(--accent); color:#fff; border-color:transparent}

    .card{position:relative; border:1px solid var(--edge); background:linear-gradient(#fff, #fff) padding-box, 
      conic-gradient(from 180deg at 50% 0%, #0000, var(--edge) 10deg, #0000 40deg) border-box; border-radius:var(--r); box-shadow:var(--shadow); overflow:hidden}
    .grid{display:grid; grid-template-columns: 240px 1fr; gap:20px; padding:22px}
    @media (max-width:720px){ .grid{grid-template-columns:1fr; padding:16px} }

    .pfp{width:100%; aspect-ratio:1/1; background:linear-gradient(135deg, var(--edge), #fff); border-radius:16px; display:grid; place-items:center; overflow:hidden; border:1px solid var(--edge)}
    .pfp img{width:100%; height:100%; object-fit:cover}

    h1{font-size:28px; line-height:1.15; margin:2px 0 6px}
    .sub{color:var(--muted); font-size:14px}

    .chips{display:flex; flex-wrap:wrap; gap:8px; margin:12px 0}
    .chip{padding:6px 10px; background:var(--chip); color:var(--chip-ink); border-radius:999px; border:1px solid var(--edge)}

    .section{margin:14px 0}
    .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
    .icon{width:16px; height:16px; opacity:.7}
    .link{display:inline-flex; align-items:center; gap:8px; padding:8px 10px; border:1px dashed var(--edge); border-radius:12px}

    .footer{display:flex; justify-content:space-between; align-items:center; padding:14px 18px; border-top:1px solid var(--edge); background:linear-gradient(180deg, #fff, #f9fafb)}
    .note{font-size:13px; color:var(--muted)}

    /* Editor drawer */
    .drawer{position:fixed; inset:0; pointer-events:none}
    .panel{position:absolute; left:0; right:0; top:0; margin:auto; width:min(920px,100%); transform:translateY(-12px); opacity:0; transition:.35s ease; pointer-events:auto}
    .panel-inner{margin:0 18px; background:var(--card); border:1px solid var(--edge); border-radius:16px; box-shadow:var(--shadow); overflow:hidden}
    .panel header{display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid var(--edge)}
    .panel main{padding:14px}
    .grid2{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    @media (max-width:720px){ .grid2{grid-template-columns:1fr} }
    .field{display:flex; flex-direction:column; gap:6px}
    .field input, .field textarea{padding:10px 12px; border:1px solid var(--edge); border-radius:12px; background:#fff}
    .field textarea{min-height:84px; resize:vertical}
    .field small{color:var(--muted)}

    .drawer[open] .panel{transform:translateY(0); opacity:1}
  </style>
</head>
<body>
  <div class="wrap" id="app">
    <div class="toolbar">
      <div class="left">
        <span class="badge" title="Wish Fic Fest">
          <svg viewBox="0 0 24 24" fill="none"><path d="M4 12c0-4.418 3.582-8 8-8s8 3.582 8 8-3.582 8-8 8-8-3.582-8-8Z" stroke="currentColor" stroke-width="1.5"/><path d="M8.5 12.5 11 15l4.5-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
          <strong>Wish Fic Fest</strong>
        </span>
        <span class="badge" title="Card type">Intro Card</span>
      </div>
      <div class="controls">
        <select class="select" id="theme">
          <option value="parchment">Parchment</option>
          <option value="pastel">Pastel</option>
          <option value="dark">Dark</option>
        </select>
        <button class="btn" id="editBtn">Edit</button>
        <button class="btn primary" id="hideUI" title="Hide UI for screenshot">Hide UI</button>
      </div>
    </div>

    <article class="card">
      <div class="grid">
        <div>
          <div class="pfp" id="pfpBox" title="Click to change photo">
            <img id="avatar" alt="Avatar" src="https://i.pinimg.com/736x/79/f5/fd/79f5fd32d852deae332cd300f476aa4d.jpg" />
          </div>
        </div>
        <div>
          <header>
            <h1 id="name">Cinta • Wishzen</h1>
            <div class="sub" id="sub">she/her • GMT+7 • Writer / Organizer</div>
          </header>

          <div class="chips" id="ships">
            <span class="chip">RiYu (Riku/Yushi)</span>
            <span class="chip">DaengSyon (Sion/Jaehee)</span>
            <span class="chip">YutDaeng (Yushi/Jaehee)</span>
          </div>

          <section class="section" id="bio">I write slowburn, yearning, and soft angst. Here to make friends, swap prompts, and laugh about something in wishville.</section>

          <section class="section">
            <div class="row">
              <a class="link" id="ao3Link" href="https://archiveofourown.org/collections/WishfulThoughtsFest2025" target="_blank" rel="noopener">
                <svg class="icon" viewBox="0 0 24 24" fill="none"><path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>
                AO3 Collection
              </a>
              <a class="link" id="twLink" href="#" target="_blank" rel="noopener">
                <svg class="icon" viewBox="0 0 24 24" fill="none"><path d="M20 7.2c-.5.2-1 .3-1.6.4.6-.4 1-.9 1.2-1.6-.6.4-1.2.6-1.9.8a3.1 3.1 0 0 0-5.4 2v.5A8.8 8.8 0 0 1 4.2 6.6a3.1 3.1 0 0 0 1 4.1c-.4 0-.8-.1-1.2-.3 0 1.5 1 2.9 2.5 3.2-.3.1-.7.1-1 .1-.2 0-.5 0-.7-.1.5 1.3 1.8 2.3 3.3 2.3A6.2 6.2 0 0 1 4 18.3 8.8 8.8 0 0 0 8.8 20c5.3 0 8.2-4.4 8.2-8.2v-.4c.6-.4 1.1-1 1.5-1.6Z" stroke="currentColor" stroke-width="1.2"/></svg>
                Twitter
              </a>
              <a class="link" id="siteLink" href="#" target="_blank" rel="noopener">
                <svg class="icon" viewBox="0 0 24 24" fill="none"><path d="M3 12h18M12 3v18" stroke="currentColor" stroke-width="1.4"/></svg>
                Personal Site
              </a>
            </div>
          </section>

          <section class="section">
            <div class="sub">Looking for:</div>
            <div class="chips" id="looking">
              <span class="chip">Beta swap</span>
              <span class="chip">Prompt trade</span>
              <span class="chip">Playlist exchange</span>
            </div>
          </section>
        </div>
      </div>
      <div class="footer">
        <div class="note">“Hi! this is my Wishficfest carrd! My top 3 otp are mentioned above, ga suka ngobrol, jangan DM ya ✨”</div>
        <div class="row">
          <button class="btn" id="shareBtn">Copy intro text</button>
        </div>
      </div>
    </article>
  </div>

  <!-- Editor Drawer -->
  <dialog class="drawer" id="drawer">
    <div class="panel">
      <div class="panel-inner">
        <header>
          <strong>Customize Your Card</strong>
          <div class="row">
            <button class="btn" id="closeEdit">Close</button>
            <button class="btn primary" id="applyEdit">Apply</button>
          </div>
        </header>
        <main>
          <div class="grid2">
            <label class="field">
              <span>Display name</span>
              <input id="f_name" placeholder="Your name / handle" value="Cinta • Wishzen" />
            </label>
            <label class="field">
              <span>Sub text (pronouns • TZ • role)</span>
              <input id="f_sub" placeholder="she/they • GMT+7 • Writer" value="she/they • GMT+7 • Writer / Organizer" />
            </label>
            <label class="field" style="grid-column:1/-1">
              <span>Avatar URL</span>
              <input id="f_avatar" placeholder="https://...jpg" value="https://i.pinimg.com/736x/7b/b6/ba/7bb6ba7c3a17ef8c4df428f842934d55.jpg" />
              <small>Tip: pakai link gambar square 800×800 agar tajam.</small>
            </label>
            <label class="field" style="grid-column:1/-1">
              <span>Ships (comma separated)</span>
              <input id="f_ships" value="RiYu (Riku/Yushi), Sion/Jaehee, Sakuya/Ryo" />
            </label>
            <label class="field" style="grid-column:1/-1">
              <span>Short bio / introduction</span>
              <textarea id="f_bio">I write slowburn, yearning, and soft angst. Here to make friends, swap prompts, and laugh about something in wishville.</textarea>
            </label>
            <label class="field">
              <span>AO3 Collection / Profile URL</span>
              <input id="f_ao3" value="https://archiveofourown.org/collections/WishfulThoughtsFest2025" />
            </label>
            <label class="field">
              <span>Twitter URL</span>
              <input id="f_twitter" value="" placeholder="https://x.com/yourhandle" />
            </label>
            <label class="field">
              <span>Personal site URL</span>
              <input id="f_site" value="" placeholder="https://your.site" />
            </label>
            <label class="field" style="grid-column:1/-1">
              <span>Looking for (comma separated)</span>
              <input id="f_look" value="Beta swap, Prompt trade, Playlist exchange" />
            </label>
          </div>
        </main>
      </div>
    </div>
  </dialog>

  <script>
    const $ = (sel) => document.querySelector(sel);
    const app = $('#app');
    const themeSel = $('#theme');

    // Theme switcher
    themeSel.addEventListener('change', () => {
      const v = themeSel.value;
      if(v === 'parchment') document.documentElement.removeAttribute('data-theme');
      else document.documentElement.setAttribute('data-theme', v);
    });

    // Hide UI for clean screenshot
    const hideBtn = $('#hideUI');
    hideBtn.addEventListener('click', () => {
      document.querySelector('.toolbar').style.display = 'none';
      hideBtn.blur();
    });

    // Drawer logic
    const drawer = $('#drawer');
    const editBtn = $('#editBtn');
    const closeEdit = $('#closeEdit');
    const applyEdit = $('#applyEdit');

    editBtn.addEventListener('click', () => drawer.showModal());
    closeEdit.addEventListener('click', () => drawer.close());

    applyEdit.addEventListener('click', () => {
      $('#name').textContent = $('#f_name').value.trim() || 'Wishzen';
      $('#sub').textContent = $('#f_sub').value.trim();
      const img = $('#f_avatar').value.trim();
      if(img) $('#avatar').src = img;

      // ships
      const ships = $('#f_ships').value.split(',').map(s=>s.trim()).filter(Boolean);
      const shipBox = $('#ships'); shipBox.innerHTML = '';
      ships.forEach(s=>{ const span = document.createElement('span'); span.className='chip'; span.textContent = s; shipBox.appendChild(span); });

      // bio
      $('#bio').textContent = $('#f_bio').value.trim();

      // links
      const ao3 = $('#f_ao3').value.trim();
      const tw = $('#f_twitter').value.trim();
      const site = $('#f_site').value.trim();
      const setHref = (id, url) => { const el = $(id); if(url){ el.href = url; el.style.display='inline-flex'; } else { el.style.display='none'; } };
      setHref('#ao3Link', ao3);
      setHref('#twLink', tw);
      setHref('#siteLink', site);

      // looking for
      const looks = $('#f_look').value.split(',').map(s=>s.trim()).filter(Boolean);
      const lookBox = $('#looking'); lookBox.innerHTML = '';
      looks.forEach(s=>{ const span = document.createElement('span'); span.className='chip'; span.textContent = s; lookBox.appendChild(span); });

      drawer.close();
    });

    // Avatar click helper
    $('#pfpBox').addEventListener('click', () => {
      drawer.showModal();
      $('#f_avatar').focus();
    });

    // Share intro text
    $('#shareBtn').addEventListener('click', async () => {
      const name = $('#name').textContent.trim();
      const ships = Array.from(document.querySelectorAll('#ships .chip')).map(x=>x.textContent).join(', ');
      const bio = $('#bio').textContent.trim();
      const text = `Hai! Mau kenalan? Ini Wish Fic Fest card-ku.\nNama: ${name}\nShips: ${ships}\nTentang aku: ${bio}\n(Reply/DM kalau kamu suka ship yang sama ya ✨)`;
      try{ await navigator.clipboard.writeText(text); alert('Intro text copied to clipboard!'); }
      catch(e){ prompt('Copy this intro text:', text); }
    });
  </script>
</body>
</html>
